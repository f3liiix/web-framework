window.AF={namespace:function(t){"use strict";var e,i=t.split("."),s=AF;if("AF"!==i[0])return!1;for(i=i.slice(1),e=0;e<i.length;e+=1)s[i[e]]={},s=s[i[e]];return s},isString:function(t){"use strict";return"[object String]"===Object.prototype.toString.call(t)},isArray:function(t){"use strict";return"[object Array]"===Object.prototype.toString.call(t)},isNumber:function(t){"use strict";return"[object Number]"===Object.prototype.toString.call(t)},isBoolean:function(t){"use strict";return"[object Boolean]"===Object.prototype.toString.call(t)},isNull:function(t){"use strict";return"[object Null]"===Object.prototype.toString.call(t)},isUndefined:function(t){"use strict";return"[object Undefined]"===Object.prototype.toString.call(t)},isFunction:function(t){"use strict";return"[object Function]"===Object.prototype.toString.call(t)},isObject:function(t){"use strict";return"[object Object]"===Object.prototype.toString.call(t)},extend:function(t,e){"use strict";var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.uber=e.prototype},throttle:function(t,e,i,s){"use strict";var n,o,r,a,l=0,h=0,c=null,d=function(){h=n,t.apply(r,a)};return function(){n=+new Date,r=this,a=arguments,o=n-(s?l:h)-e,clearTimeout(c),s?i?c=setTimeout(d,e):o>=0&&d():o>=0?d():i&&(c=setTimeout(d,-o)),l=n}},debounce:function(t,e,i){"use strict";return AF.throttle(t,e,i,!0)}},function(t,e,i){"use strict";function s(i,s){this.wrapper="string"==typeof i?e.querySelector(i):i,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!a.hasPointer,disableTouch:a.hasPointer||!a.hasTouch,disableMouse:a.hasPointer||a.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"==typeof t.onmousedown};for(var n in s)this.options[n]=s[n];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"===this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function n(t,i,s){var n=e.createElement("div"),o=e.createElement("div");return s===!0&&(n.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"===t?(s===!0&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(s===!0&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",i||(n.style.pointerEvents="none"),n.appendChild(o),n}function o(i,s){this.wrapper="string"==typeof s.el?e.querySelector(s.el):s.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var n in s)this.options[n]=s[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(t,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade){this.wrapperStyle[a.style.transform]=this.scroller.translateZ;var o=a.style.transitionDuration;if(!o)return;this.wrapperStyle[o]=a.isBadAndroid?"0.0001ms":"0ms";var l=this;a.isBadAndroid&&r(function(){"0.0001ms"===l.wrapperStyle[o]&&(l.wrapperStyle[o]="0s")}),this.wrapperStyle.opacity="0"}}var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function s(t){return r!==!1&&(""===r?t:r+t.charAt(0).toUpperCase()+t.substr(1))}var n={},o=e.createElement("div").style,r=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,s=e.length;i<s;i++)if(t=e[i]+"ransform",t in o)return e[i].substr(0,e[i].length-1);return!1}();n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(t,e){for(var i in e)t[i]=e[i]},n.addEvent=function(t,e,i,s){t.addEventListener(e,i,!!s)},n.removeEvent=function(t,e,i,s){t.removeEventListener(e,i,!!s)},n.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},n.momentum=function(t,e,s,n,o,r){var a,l,h=t-e,c=i.abs(h)/s;return r=void 0===r?6e-4:r,a=t+c*c/(2*r)*(h<0?-1:1),l=c/r,a<n?(a=o?n-o/2.5*(c/8):n,h=i.abs(a-t),l=h/c):a>0&&(a=o?o/2.5*(c/8):0,h=i.abs(t)+a,l=h/c),{destination:i.round(a),duration:l}};var a=s("transform");return n.extend(n,{hasTransform:a!==!1,hasPerspective:s("perspective")in o,hasTouch:"ontouchstart"in t,hasPointer:!(!t.PointerEvent&&!t.MSPointerEvent),hasTransition:s("transition")in o}),n.isBadAndroid=function(){var e=t.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var i=e.match(/Safari\/(\d+.\d)/);return!(i&&"object"==typeof i&&i.length>=2)||parseFloat(i[1])<535.19}return!1}(),n.extend(n.style={},{transform:a,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),transitionDelay:s("transitionDelay"),transformOrigin:s("transformOrigin")}),n.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},n.addClass=function(t,e){if(!n.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},n.removeClass=function(t,e){if(n.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},n.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},n.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,s=.4;return 0===t?0:1===t?1:s*i.pow(2,-10*t)*i.sin((t-e/4)*(2*i.PI)/e)+1}}}),n.tap=function(t,i){var s=e.createEvent("Event");s.initEvent(i,!0,!0),s.pageX=t.pageX,s.pageY=t.pageY,t.target.dispatchEvent(s)},n.click=function(i){var s,n=i.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(s=e.createEvent(t.MouseEvent?"MouseEvents":"Event"),s.initEvent("click",!0,!0),s.view=i.view||t,s.detail=1,s.screenX=n.screenX||0,s.screenY=n.screenY||0,s.clientX=n.clientX||0,s.clientY=n.clientY||0,s.ctrlKey=!!i.ctrlKey,s.altKey=!!i.altKey,s.shiftKey=!!i.shiftKey,s.metaKey=!!i.metaKey,s.button=0,s.relatedTarget=null,s._constructed=!0,n.dispatchEvent(s))},n}();s.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!==a.eventType[t.type]){var e;if(e=t.which?t.button:t.button<2?0:4===t.button?1:2,0!==e)return}if(this.enabled&&(!this.initiated||a.eventType[t.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var s,n=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,s=this.getComputedPosition(),this._translate(i.round(s.x),i.round(s.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,s,n,o,r=t.touches?t.touches[0]:t,l=r.pageX-this.pointX,h=r.pageY-this.pointY,c=a.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=l,this.distY+=h,n=i.abs(this.distX),o=i.abs(this.distY),!(c-this.endTime>300&&n<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(n>o+this.options.directionLockThreshold?this.directionLocked="h":o>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)t.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);h=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)t.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,h=this.hasVerticalScroll?h:0,e=this.x+l,s=this.y+h,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(s>0||s<this.maxScrollY)&&(s=this.options.bounce?this.y+h/3:s>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=h>0?-1:h<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,s),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,s,n=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),o=i.round(this.x),r=i.round(this.y),l=i.abs(o-this.startX),h=i.abs(r-this.startY),c=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,r),!this.moved)return this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&l<100&&h<100)return void this._execEvent("flick");if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},s=this.hasVerticalScroll?a.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},o=e.destination,r=s.destination,c=i.max(e.duration,s.duration),this.isInTransition=1),this.options.snap){var u=this._nearestSnap(o,r);this.currentPage=u,c=this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-u.x),1e3),i.min(i.abs(r-u.y),1e3)),300),o=u.x,r=u.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}return o!==this.x||r!==this.y?((o>0||o<this.maxScrollX||r>0||r<this.maxScrollY)&&(d=a.ease.quadratic),void this.scrollTo(o,r,c,d)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!==this.x||i!==this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,s){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,s)},scrollTo:function(t,e,i,s){s=s||a.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var n=this.options.useTransition&&s.style;!i||n?(n&&(this._transitionTimingFunction(s.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,s.fn)},scrollToElement:function(t,e,s,n,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=a.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,s===!0&&(s=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=s||0,r.top-=n||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-r.left),i.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,o)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=a.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+"ms",!t&&a.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;r(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}if(this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].updatePosition()},_initEvents:function(e){var i=e?a.removeEvent:a.addEvent,s=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(s,"mousemove",this),i(s,"mousecancel",this),i(s,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,a.prefixPointerEvent("pointerdown"),this),i(s,a.prefixPointerEvent("pointermove"),this),i(s,a.prefixPointerEvent("pointercancel"),this),i(s,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(s,"touchmove",this),i(s,"touchcancel",this),i(s,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,s=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(s=s[a.style.transform].split(")")[0].split(", "),e=+(s[12]||s[4]),i=+(s[13]||s[5])):(e=+s.left.replace(/[^-\d.]/g,""),i=+s.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){if(a.indicators)for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,i=this.options.interactiveScrollbars,s="string"!=typeof this.options.scrollbars,r=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:n("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:s,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:n("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:s,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var l=r.length;l--;)this.indicators.push(new o(this,r[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,s,n,o,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r.options.snap||r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,s=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,s=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,s=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=s=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=s=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,s*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=s,s=0),this.options.snap)return n=this.currentPage.pageX,o=this.currentPage.pageY,e>0?n--:e<0&&n++,s>0?o--:s<0&&o++,void this.goToPage(n,o);n=this.x+i.round(this.hasHorizontalScroll?e:0),o=this.y+i.round(this.hasVerticalScroll?s:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=s>0?-1:s<0?1:0,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(n,o,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,s,n,o,r,a=0,l=0,h=0,c=this.options.snapStepX||this.wrapperWidth,d=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(s=i.round(c/2),n=i.round(d/2);h>-this.scrollerWidth;){for(this.pages[a]=[],t=0,o=0;o>-this.scrollerHeight;)this.pages[a][t]={x:i.max(h,this.maxScrollX),y:i.max(o,this.maxScrollY),width:c,height:d,cx:h-s,cy:o-n},o-=d,t++;h-=c,a++}else for(r=this.options.snap,t=r.length,e=-1;a<t;a++)(0===a||r[a].offsetLeft<=r[a-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),h=i.max(-r[a].offsetLeft,this.maxScrollX),o=i.max(-r[a].offsetTop,this.maxScrollY),s=h-i.round(r[a].offsetWidth/2),n=o-i.round(r[a].offsetHeight/2),this.pages[l][e]={x:h,y:o,width:r[a].offsetWidth,height:r[a].offsetHeight,cx:s,cy:n},h>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var s=0,n=this.pages.length,o=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);s<n;s++)if(t>=this.pages[s][0].cx){t=this.pages[s][0].x;break}for(n=this.pages[s].length;o<n;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}return s===this.currentPage.pageX&&(s+=this.directionX,s<0?s=0:s>=this.pages.length&&(s=this.pages.length-1),t=this.pages[s][0].x),o===this.currentPage.pageY&&(o+=this.directionY,o<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),e=this.pages[0][o].y),{x:t,y:e,pageX:s,pageY:o}},goToPage:function(t,e,s,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,r=this.pages[t][e].y;s=void 0===s?this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-this.x),1e3),i.min(i.abs(r-this.y),1e3)),300):s,this.currentPage={x:o,y:r,pageX:t,pageY:e},this.scrollTo(o,r,s,n)},next:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,s++),this.goToPage(i,s,t,e)},prev:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,s--),this.goToPage(i,s,t,e)},_initKeys:function(e){var i,s={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in s)this.options.keyBindings[i]=this.options.keyBindings[i]||s[i];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,s=this.options.snap,n=s?this.currentPage.pageX:this.x,o=s?this.currentPage.pageY:this.y,r=a.getTime(),l=this.keyTime||0,h=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=r-l<200?i.min(this.keyAcceleration+h,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=s?1:this.wrapperWidth:o+=s?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=s?1:this.wrapperWidth:o-=s?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=s?this.pages.length-1:this.maxScrollX,o=s?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,o=0;break;case this.options.keyBindings.left:n+=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=s?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=s?1:5+this.keyAcceleration>>0;break;default:return}if(s)return void this.goToPage(n,o);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,o,0),this.keyTime=r}},_animate:function(t,e,i,s){function n(){var u,p,g,f=a.getTime();return f>=d?(o.isAnimating=!1,o._translate(t,e),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"))):(f=(f-c)/i,g=s(f),u=(t-l)*g+l,p=(e-h)*g+h,o._translate(u,p),void(o.isAnimating&&r(n)))}var o=this,l=this.x,h=this.y,c=a.getTime(),d=c+i;this.isAnimating=!0,n()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},o.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,a.prefixPointerEvent("pointerup"),this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,s,n,o=t.touches?t.touches[0]:t;a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=o.pageX-this.lastPointX,this.lastPointX=o.pageX,i=o.pageY-this.lastPointY,this.lastPointY=o.pageY,s=this.x+e,n=this.y+i,this._pos(s,n),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var s=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-s.x),1e3),i.min(i.abs(this.scroller.y-s.y),1e3)),300);this.scroller.x===s.x&&this.scroller.y===s.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=s,this.scroller.scrollTo(s.x,s.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=a.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+"ms",!t&&a.isBadAndroid)){this.indicatorStyle[e]="0.0001ms";var i=this;r(function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"===this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),
this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"===this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"===this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"===this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"===this.options.shrink&&this.width!==this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"===this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"===this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"===this.options.shrink&&this.height!==this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,s=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),s)}}},s.utils=a,"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define(function(){return s}):t.IScroll=s}(window,document,Math),AF.store={cookie:{_getValue:function(t){"use strict";var e=document.cookie,i=e.indexOf(";",t)===-1?e.length:e.indexOf(";",t);return decodeURIComponent(e.substring(t,i))},get:function(t){"use strict";for(var e=this,i=document.cookie,s=t+"=",n=s.length,o=i.length,r=0;r<o;){var a=r+n;if(i.substring(r,a)===s)return e._getValue(a);if(r=i.indexOf(" ",r)+1,0===r)break}return null},set:function(t,e){"use strict";var i=new Date,s=i.getFullYear(),n=i.getMonth(),o=i.getDate()+1,r=arguments,a=arguments.length,l=a>2?r[2]:null,h=a>3?r[3]:null,c=a>4?r[4]:null,d=a>5&&r[5];if(l)switch(l){case"day":i.setYear(s),i.setMonth(n),i.setDate(o),i.setHours(8),i.setMinutes(0),i.setSeconds(0);break;case"week":var u=6048e5;i.setTime(i.getTime()+u);break;default:i.setTime(i.getTime()+(1e3*l+288e5))}document.cookie=t+"="+encodeURIComponent(e)+(null===l?"":"; expires="+i.toGMTString())+(null===h?"":"; path="+h)+(null===c?"":"; domain="+c)+(d===!0?"; secure":"")},del:function(t){"use strict";var e=this,i=new Date;i.setTime(i.getTime()-1);var s=e.get(t);document.cookie=t+"="+s+"; expires="+i.toGMTString()}},localStorage:{hasLoaclStorage:function(){"use strict";if("localStorage"in window&&null!==window.localStorage)return!0}(),get:function(t,e){"use strict";var i,s,n,o=this,r=(new Date).getTime();if(t&&o.hasLoaclStorage)return i=JSON.parse(localStorage.getItem(t)),i?(s=i.time,n=i.dataStore,e&&(n=1e3*parseInt(e,10)*60>r-parseInt(s,10)&&n),n):void 0},set:function(t,e){"use strict";var i=this,s={},n=(new Date).getTime();t&&e&&i.hasLoaclStorage&&(s.dataStore=e,s.time=n,s=JSON.stringify(s),localStorage.setItem(t,s))},del:function(t){"use strict";var e=this;t&&e.hasLoaclStorage&&localStorage.removeItem(t)},clearAll:function(){"use strict";var t=this;t.hasLoaclStorage&&localStorage.clear()}}},AF.ua=function(){"use strict";var t,e={},i=navigator.userAgent;return e.os={},e.browser={},/Android/i.test(i)?(e.os.name="android",e.os.version=i.match(/(Android)\s([\d.]+)/)[2]):/Adr/i.test(i)?(e.os.name="android",e.os.version=i.match(/(Adr)\s([\d.]+)/)[2]):/iPod/i.test(i)?(e.os.name="ios",e.os.version=i.match(/OS\s([\d_]+)/)[1].replace(/_/g,"."),e.device="ipod"):/iPhone/i.test(i)?(e.os.name="ios",e.os.version=i.match(/(iPhone\sOS)\s([\d_]+)/)[2].replace(/_/g,"."),e.device="iphone"):/iPad/i.test(i)&&(e.os.name="ios",e.os.version=i.match(/OS\s([\d_]+)/)[1].replace(/_/g,"."),e.device="ipad"),t=i.match(/AppleWebKit\/([\d.]*)/),t&&t[1]&&(e.browser.core="webkit",e.browser.version=t[1],/Chrome/i.test(i)?e.browser.shell="chrome":/Safari/i.test(i)?e.browser.shell="safari":/Opera/i.test(i)&&(e.browser.shell="opera")),/UCBrowser/i.test(i)?(t=i.match(/(UCBrowser)\/([\d.]+)/),e.browser.shell="ucweb",e.browser.version=t[2]):/UCWEB/i.test(i)?(t=i.match(/(UCWEB)([\d.]+)/),e.browser.shell="ucweb",e.browser.version=t[2]):/UC/i.test(i)&&(e.browser.shell="ucweb",e.browser.version="8.x"),"ucweb"===e.browser.shell&&/UCWEB\/2\.0/i.test(i)&&(e.browser.module="swift"),e.browser.version&&(e.browser.version=parseFloat(e.browser.version,10)),e}(),AF.util={generate:{uniqueId:function(){},randomInt:function(t,e){"use strict";return"number"==typeof t&&"number"==typeof e&&t<e&&parseInt(Math.random()*(e-t+1)+t,10)},randomArr:function(t){"use strict";return t.sort(function(){return Math.random()-.5})}},string:{trim:function(t){"use strict";return t.replace(/^\s+|\s+$/g,"")}},dateToString:function(t){"use strict";var e=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),n=t.getHours(),o=t.getMinutes(),r=t.getSeconds();i=i<10?"0"+i:i,s=s<10?"0"+s:s,n=n<10?"0"+n:n,o=o<10?"0"+o:o,r=r<10?"0"+r:r;var a=e+"-"+i+"-"+s+" "+n+":"+o+":"+r;return a},goTop:function(t){"use strict";t.preventDefault(),window.scrollTo(0,0)},goBack:function(t){"use strict";t.preventDefault(),history.back()}},function(t){"use strict";function e(e,i){this.element=e,this.settings=t.extend({},s,i),this._defaults=s,this.init()}var i="af-dropdown",s={MODE:"menu",EVE_EVENT_TYPE:"click"};e.prototype={construtor:"Dropdown",init:function(){var e=this,s=(new Date).getTime().toString().slice(-4);e.$element=t(e.element),e.elementClassName=e.settings.selector.slice(1),e.classId=i+"-id-"+s,e.$element.addClass(e.classId),"menu"===e.settings.MODE&&e.menu()},setState:function(t){var e=this;"active"===t&&e.$element.addClass("active"),"init"===t&&e.$element.removeClass("active")},menu:function(){function e(){if(l.hide(),a.removeClass("active"),o.settings.ANIMATE){var t=0===o.settings.ANIMATE.indexOf(".")?o.settings.ANIMATE.slice(1):o.settings.ANIMATE;h.addClass("animated "+t)}h.show(),o.setState("active"),r.on("click.af.dropdown",n)}function s(){h.hide(),o.setState("init"),r.off("click.af.dropdown",n)}function n(e){t(e.target).parents("."+i).hasClass(o.classId)||s()}var o=this,r=t(document),a=t(o.settings.selector),l=a.find(".dropdown-content"),h=o.$element.find(".dropdown-content");o.$element.on(o.settings.EVE_EVENT_TYPE+".af.dropdown",function(){o.$element.hasClass("active")?s():e()})}},t.fn.dropdown=function(s){var n,o="undefined"!=typeof Zepto,r="undefined"!=typeof jQuery;return AF.isObject(s)&&(s=s||{},s.selector=this.selector||"."+this[0].className.split(" ").join(".")),this.each(function(){r?t.data(this,i+"init")||t.data(this,i+"init",new e(this,s)):o&&(t(this).data(i+"init")||(n=new e(this,s),t(this).data(i+"init","initialized")))}),this}}($),function(t){"use strict";function e(e,i){this.element=e,this.settings=t.extend({},s,i),this._defaults=s,this.init()}var i="af-lazyload",s={MODE:"image",NUM_THRESHOLD:350,IMG_PLACEHOLDER:""};e.prototype={construtor:"Lazyload",scrollTimer:0,scrollDelay:150,init:function(){var e=this;e.$element=t(e.element),e.elementClassName=e.settings.selector.slice(1),e.$element.attr("src",e.settings.IMG_PLACEHOLDER),e._verify()&&(e._bindLazyEvent(),e._trigger(),e._loadImg())},_verify:function(){return!0},_bindLazyEvent:function(){var e=this;e.$element.one("appear",function(){var i=this,s=t(i),n=s.attr("data-original");n&&(s.addClass("unvisible").attr("src",n).removeAttr("data-original").removeClass(e.elementClassName),s.on("load",function(){if(e.settings.ANIMATE){var t=0===e.settings.ANIMATE.indexOf(".")?e.settings.ANIMATE.slice(1):e.settings.ANIMATE;s.addClass("animated "+t)}s.removeClass("unvisible")}),s.on("error",function(){e.settings.IMG_PLACEHOLDER&&t(this).attr("src",e.settings.IMG_PLACEHOLDER).off("error")}))})},_trigger:function(){var e=this;t(window).on("scroll.bs.lazyload",AF.throttle(function(){"image"===e.settings.MODE&&e._loadImg()},e.scrollDelay))},_isInDisplayArea:function(e){var i=this;if(e.getBoundingClientRect()){var s=e.getBoundingClientRect();return s.top>0-i.settings.NUM_THRESHOLD&&s.top-i.settings.NUM_THRESHOLD<window.innerHeight}var n=t(e),o=window.innerHeight,r=window.pageYOffset,a=n.offset().top;return a>=r&&a<=r+o+i.settings.NUM_THRESHOLD},_loadImg:function(){var e=this;e.settings.IMG_PLACEHOLDER&&e.$element.hasClass(e.elementClassName)&&e.$element.on("error",function(){t(this).attr("src",e.settings.IMG_PLACEHOLDER).off("error")}),e._isInDisplayArea(e.$element.get(0))&&e.$element.trigger("appear")}},t.fn.lazyload=function(s){var n,o="undefined"!=typeof Zepto,r="undefined"!=typeof jQuery;return s=s||{},s.selector=this.selector,this.each(function(){r?t.data(this,i)||t.data(this,i,new e(this,s)):o&&(t(this).data(i)||(n=new e(this,s),t(this).data(i,"initialized")))}),this}}($),function(t){"use strict";function e(e,i){this.element=e,this.settings=t.extend({},n,i),this._defaults=n,this.init()}var i="af-loadmore",s=0,n={API:"",CSS_STATE_BAR:".af-loadmore-state",EVE_EVENT_TYPE:"scroll",NUM_START_PAGE_INDEX:0,NUM_LOAD_POSITION:.5,NUM_SCROLL_MAX_PAGE:3,NUM_SUCCESS_CODE:200,NUM_NO_MORE_CODE:900,NUM_EXPIRES:15,TXT_LOADING_TIP:"正在加载请稍后...",TXT_INIT_TIP:"滑动加载更多内容",TXT_CLICK_TIP:"点击加载更多",TXT_LOADED_ERROR:"加载失败，请点击重试",MODE:"simple",XHR_METHOD:"POST",XHR_TIMEOUT:5e3,LOCAL_DATA:!1};e.prototype={construtor:"LoadMore",scrollTimer:0,scrollDelay:200,init:function(){var e=this,i={},n=s,o=window.innerHeight||t(window).height(),r=e._reload();e.$win=t(window),e.$triggerTarget=e.$win,e.$element=t(e.element),e.maxPage=e.settings.NUM_SCROLL_MAX_PAGE+e.settings.NUM_START_PAGE_INDEX,e.initStyle=0===e.settings.CSS_STATE_BAR.indexOf(".")?e.settings.CSS_STATE_BAR.slice(1):e.settings.CSS_STATE_BAR,e.beforeLoadFun=e.settings.beforeLoad,e.loadingFun=e.settings.loading,e.loadFun=e.settings.loaded,e.loadErrorFun=e.settings.loadError,e.scrollEndFun=e.settings.scrollEnd,i.$element=e.$element,r.isReload?(i.$stateBar=r.$stateBar,i.$stateTxt=i.$stateBar.find(".state-txt")):(i.$stateBar=t('<div class="state"><i class="state-icon"></i><span class="state-txt"></span></div>'),i.$stateTxt=i.$stateBar.find(".state-txt"),i.$stateBar.addClass(e.initStyle),i.$stateTxt.text(e.settings.TXT_INIT_TIP),"scroll"===i.currentEventType&&i.$element.css({"min-height":o-40}),i.$element.after(i.$stateBar)),i.api=e.settings.API,i.index=n,i.page=r.page||e.settings.NUM_START_PAGE_INDEX,i.currentState=r.page||"none",i.currentEventType=r.event||e.settings.EVE_EVENT_TYPE,i.currentEventType!==e.settings.EVE_EVENT_TYPE&&"click"===i.currentEventType&&e._changeEvent("click",i),"click"===e.settings.EVE_EVENT_TYPE&&e._changeEvent("click",i),r.top>0&&t("body").scrollTop(r.top),e._verify(i)&&(e._setNewTriggerPoint(i),e._bind(i.currentEventType,i))},_reload:function(){var e=this,s=t(e.settings.selector),n={};if(t(window).off("scroll.af.loadmore"),s.data(i)){var o=s.next(".af-loadMore-state");n.isReload=!0,n.page=o.data("page"),n.event=o.data("event"),n.top=parseInt(o.data("top"),10),n.currentState=o.data("currentState"),n.$stateBar=o}return n},_verify:function(t){var e=this;return 0===e.$triggerTarget.length||0===t.$element.length?(console.warn("AF.loadmore: Self["+t.index+"]缺少 Dom 元素"),!1):!!t.api||(console.warn("AF.loadmore: Self["+t.index+"]缺少 API 参数"),!1)},_bind:function(t,e){var i=this;i.$triggerTarget.on(t+".af.loadmore",function(){i._trigger(e)}),i.$win.on("scroll.af.loadmore.setTop",function(){i._setTopPosition(e)})},_trigger:function(t){var e=this;if("scroll"===t.currentEventType)t.page<e.maxPage&&AF.throttle(function(){var i=t.$stateBar.hasClass("loading"),s=t.$stateBar.hasClass("no-more");e.$triggerTarget.scrollTop()>=e.triggerHeight&&!i&&!s&&e._load(e._spliceApi(t),t)},e.scrollDelay)(),t.page===e.maxPage&&e._changeState("scrollEnd",t);else if("click"===t.currentEventType){var i=t.$stateBar.hasClass("no-more");i||e._load(e._spliceApi(t),t)}},_setNewTriggerPoint:function(e){if("click"!==e.currentEventType){var i=this,s=i._getHeight(document.querySelector("body"))||t("body").height(),n=window.innerHeight||t(window).height();i.triggerHeight=(s-n)*i.settings.NUM_LOAD_POSITION,i.settings.NUM_LOAD_POSITION<.8&&(i.settings.NUM_LOAD_POSITION+=.15555)}},_changeEvent:function(t,e){var i=this;i.$triggerTarget.off(t+".af.loadmore"),e.currentEventType=t,e.$stateBar.data("event",t),"click"===t?(i.$triggerTarget=e.$stateBar,i._bind(t,e),e.$stateBar.addClass("click").show()):"scroll"===t&&(i.$triggerTarget=i.$win,i._bind(t,e))},_changeState:function(t,e){var i=this;if(e.currentState!==t)switch(e.currentState=t,e.$stateBar.data("currentState",t),t){case"loading":e.$stateTxt.text(i.settings.TXT_LOADING_TIP),e.$stateBar.removeClass("loading").addClass("loading").show(),i.loadingFun&&i.loadingFun(e.index);break;case"success":e.$stateBar.removeClass("loading"),"loadError"===e.currentState&&(e.currentState=void 0),"scroll"===e.currentEventType&&e.$stateTxt.text(i.settings.TXT_INIT_TIP),"click"===e.currentEventType&&e.$stateTxt.text(i.settings.TXT_CLICK_TIP),e.page+=1,e.$stateBar.data("page",e.page);break;case"scrollEnd":i._changeEvent("click",e),e.$stateTxt.text(i.settings.TXT_CLICK_TIP),i.scrollEndFun&&i.scrollEndFun(e.index);break;case"noMore":e.$stateBar.addClass("no-more").removeClass("loading"),i.settings.TXT_NOMORE_TIP?e.$stateTxt.text(i.settings.TXT_NOMORE_TIP):e.$stateBar.hide();break;case"loadError":e.currentState="loadError",i._changeEvent("click",e),e.$stateTxt.text(i.settings.TXT_LOADED_ERROR),e.$stateBar.removeClass("loading"),i.loadErrorFun&&i.loadErrorFun(e.index)}},_load:function(e,i){var s=this,n=i.$stateBar.data("currentState");if("loading"!==n&&(s._changeState("loading",i),!s.beforeLoadFun||s.beforeLoadFun())){if(s.settings.LOCAL_DATA){var o=AF.store.localStorage.get(e,s.settings.NUM_EXPIRES);if(o=AF.isString(o)?t.parseJSON(o):o)return void s._loadedResult(o,i)}e&&0!==e.length&&(s.xhr&&s.xhr.abort(),s.xhr=t.ajax({type:s.settings.XHR_METHOD,url:e,timeout:s.settings.XHR_TIMEOUT}).done(function(t){s._loadedResult(t,i),s.settings.LOCAL_DATA&&AF.store.localStorage.set(e,t)}).fail(function(t){s._changeState("loadError",i)}))}},_loadedResult:function(e,i){var s,n,o=this;if(s=AF.isString(e)?t.parseJSON(e):e,"simple"===o.settings.MODE)switch(n=parseInt(s.code,10)){case o.settings.NUM_SUCCESS_CODE:o._changeState("success",i);break;case o.settings.NUM_NO_MORE_CODE:o._changeState("noMore",i);break;default:return void o._changeState("loadError",i)}o.loadFun&&o.loadFun(s,i.$element,i.index),o._setNewTriggerPoint(i)},_getHeight:function(t){return t?t.getBoundingClientRect?t.getBoundingClientRect().height:Math.max(t.clientHeight,t.offsetHeight,t.scrollHeight):(console.warn("AF.loadmore: 无法计算页面高度"),0)},_spliceApi:function(t){var e,i,s=this,n=t.api.indexOf("?")===-1?"?":"&";if(s.settings.RESTFUL){e=t.api.replace(":page",t.page);for(i in s.settings.RESTFUL)s.settings.RESTFUL.hasOwnProperty(i)&&(e=e.replace(i,s.settings.RESTFUL[i]))}else e=t.api+n+"page="+t.page;return e},_setTopPosition:function(e){e.$stateBar.data("top",t("body").scrollTop())}},t.fn.loadmore=function(s){var n;return s=s||{},s.selector=this.selector,this.length||console.warn("AF.loadmore: 未找到"+this.selector+"元素"),this.each(function(){n=new e(this,s),t(this).data(i,"initialized")}),this}}($),function(t){"use strict";function e(e,i){this.element=e,this.settings=t.extend({},s,i),this._defaults=s,this.init()}var i="af-modal",s={EVE_EVENT_TYPE:"click",CSS_POSITION:"fixed",TXT_CLOSE_VAL:"×",TXT_OK_VAL:"确定",TXT_CANCEL_VAL:"取消",PREVENT_DEFAULT:!0,LOCK:!1,MASK:!0,CSS_MASK_BACKGROUND:"#000000",CSS_MASK_OPACITY:.5,CLOSE_BTN:!0};e.prototype={construtor:"Modal",timer:void 0,resizeTimer:!1,closed:!0,init:function(){var e=this;e.$win=t(window),e.$doc=t(document),e.$body=t("body"),e.$target=t(e.settings.selector),e.customEvent=e.settings.selector.replace(".",":"),e.beforeShowFun=e.settings.beforeShow,e.showFun=e.settings.show,e.closeFun=e.settings.close,e.okFun=e.settings.ok,e.cancelFun=e.settings.cancel,e.resizeFun=e.settings.resize,e._bind()},_bind:function(){var t=this,e=t.settings.DISPOSABLE?".af.modal.once":".af.modal";t.$doc.on(t.settings.EVE_EVENT_TYPE+e,t.settings.selector,function(i){return t.settings.PREVENT_DEFAULT&&i.preventDefault(),t.settings.DISPOSABLE&&(t.$target.addClass("disabled"),t.$doc.off(t.settings.EVE_EVENT_TYPE+e)),t.settings.DELAY?void setTimeout(function(){t.show(i)},t.settings.DELAY):void t.show(i)}),t.$target.on("af:modal:remove",function(){t.close()})},_createModal:function(){var e=this;if(e.$modalPanel)return e.$modalPanel;var i=t('<div class="af-modal"></div>'),s=t('<div class="content"></div>'),n=t('<div class="close-btn">'+e.settings.TXT_CLOSE_VAL+"</div>"),o=t('<div class="ok-btn">'+e.settings.TXT_OK_VAL+"</div>"),r=t('<div class="cancel-btn">'+e.settings.TXT_CANCEL_VAL+"</div>");if(i.css({position:e.settings.CSS_POSITION,width:e.settings.CSS_WIDTH,height:e.settings.CSS_HEIGHT,"z-index":1e3}),e.settings.CSS_CLASS){var a,l=e.settings.CSS_CLASS.split(" "),h=l.length;for(a=0;a<h;a++){var c=l[a];i.addClass(0===c.indexOf(".")?c.slice(1):c)}}return i.append(s),e.settings.CLOSE_BTN&&i.append(n),e.settings.OK_BTN&&i.append(o),e.settings.CANCEL_BTN&&i.append(r),i.appendTo(e.$body),e.$modalPanel=i,e.$modalContent=s,e.$okBtn=o,e.$cancelBtn=r,e.$close=n,i},_setModalPos:function(){var t,e=this,i="chrome",s=e.settings.ANIMATE,n="middle"===e.settings.VERTICAL,o="center"===e.settings.HORIZONTAL,r="ucweb"===AF.ua.browser.shell&&AF.ua.browser.version>=9||i.indexOf(AF.ua.browser.shell)!==-1;if("fixed"===e.settings.CSS_POSITION)t="50%";else if("absolute"===e.settings.CSS_POSITION){var a=window.innerHeight||e.$win.height();t=e.$body.scrollTop()+a/2}var l=e.settings.CSS_HEIGHT?e.settings.CSS_HEIGHT/2*-1:e.$modalPanel.height()/2*-1,h=e.settings.CSS_WIDTH?e.settings.CSS_WIDTH/2*-1:e.$modalPanel.width()/2*-1,c={top:e.settings.CSS_TOP||"auto",left:e.settings.CSS_LEFT||"auto",bottom:e.settings.CSS_BOTTOM||"auto",right:e.settings.CSS_RIGHT||"auto"};e.settings.CSS_TOP||e.settings.CSS_BOTTOM||(c.top=0),e.settings.CSS_LEFT||e.settings.CSS_RIGHT||(c.left=0),n&&o?(c.top=t,c.left="50%",r&&!s?c["-webkit-transform"]="translate(-50%, -50%)":(c["margin-top"]=l,c["margin-left"]=h)):n?(c.top=t,r&&!s?c["-webkit-transform"]="translateY(-50%)":c["margin-top"]=l):o&&(c.left="50%",r&&!s?c["-webkit-transform"]="translateX(-50%)":c["margin-left"]=h),e.$modalPanel.css(c)},_setModalEvent:function(){var t=this;t.settings.LOCK&&("android"===AF.ua.os.name&&"ucweb"===AF.ua.browser.shell&&AF.ua.browser.version>=9&&AF.ua.browser.version<9.7?t.$modalPanel.on("touchstart",function(t){t.preventDefault()}):t.$modalPanel.on("touchmove",function(t){t.preventDefault()}),t.$modalPanel.on("mousewheel",function(t){t.preventDefault()})),t.$okBtn.on("click",function(){t.ok()}),t.$cancelBtn.on("click",function(){t.cancel()}),t.$close.on("click",function(){t.close()}),t.$win.resize(function(){t.resize()})},_beforeShow:function(t){var e=this;if(e.$modalPanel=e._createModal(),e._setModalEvent(),e.settings.ANIMATE){var i=0===e.settings.ANIMATE.indexOf(".")?e.settings.ANIMATE.slice(1):e.settings.ANIMATE;e.$modalPanel.addClass("animated "+i)}return e.$target.trigger("af:modal:beforeShow",[e]),!e.beforeShowFun||e.beforeShowFun(t)},show:function(t){var e=this;if(e.closed){if(!e._beforeShow(t))return void console.warn("AF.Modal: _beforeShow function return false");e.closed=!1,e.settings.MASK&&e.mask(),e.$target.trigger("af:modal:show",[e]),e.showFun&&e.showFun(t),e._setModalPos(),e.$modalPanel.show(),e.settings.NUM_CLOSE_TIME&&e.time(e.settings.NUM_CLOSE_TIME)}},close:function(t){var e=this;e.timer&&clearTimeout(e.timer),e.$modalPanel&&(e.$modalPanel.remove(),e.$modalContent.empty(),e.$modalPanel=null),e.settings.MASK&&e.$mask.hide(),e.closed=!0,e.$target.trigger("af:modal:close",[e]),e.closeFun&&!t&&e.closeFun()},time:function(t){var e=this;e.closed||(e.timer=setTimeout(function(){e.close()},t))},mask:function(){var e=this,i=e.$body.height(),s=e.$win.height(),n=i>s?i:s,o=e.$mask||t(".af-mask").length>0?t(".af-mask"):void 0;o?(o.css({width:"100%",height:n}),o.show()):(o=t('<div class="af-mask"></div>'),o.css({position:"absolute",top:0,left:0,right:0,width:"100%",height:n,background:e.settings.CSS_MASK_BACKGROUND,opacity:e.settings.CSS_MASK_OPACITY,"z-index":999}).appendTo(e.$body),e.settings.LOCK&&(o.on("touchstart",function(t){t.preventDefault()}),o.on("mousewheel",function(t){t.preventDefault()}))),e.$mask=o},ok:function(t){var e=this;e.close("ok"),e.$target.trigger("af:modal:ok",[e]),e.okFun&&e.okFun(t)},cancel:function(t){var e=this;e.close("cancel"),e.$target.trigger("af:modal:cancel",[e]),e.cancelFun&&e.cancelFun(t)},resize:function(){var t=this;t.$modalPanel&&t._setModalPos()}},t.fn.modal=function(s){var n,o="undefined"!=typeof Zepto,r="undefined"!=typeof jQuery,a=this;return AF.isObject(s)&&(s=s||{},s.selector=this.selector||"."+this[0].className.split(" ").join(".")),0===t(this.selector).length&&(a=t('<div class="'+this.selector.slice(1)+'" style="display:none"></div>'),a.selector=this.selector,t("body").append(a)),a.each(function(){r?t.data(this,i)||t.data(this,i,new e(a,s)):o&&(a.data(i)||(n=new e(a,s),a.data(i,"initialized")))}),a},t(document).ready(function(){t("[data-"+i+"]").each(function(){var e=t(this),s=e.data(i);AF.isObject(s)&&e.modal(s)})})}($),function(t){"use strict";function e(e,i){this.element=e,this.settings=t.extend({},s,i),this._defaults=s,this.init()}var i="af-panel",s={EVE_EVENT_TYPE:"click",DISPLAY:"overlay",DIRECTION:"left",CSS_WIDTH:300,CLOSE_BTN:!1,TXT_CLOSE_VAL:"×"};e.prototype={construtor:"Panel",resizeTimer:!1,closed:!0,init:function(){var e=this,i="@-webkit-keyframes showPanel {0% {-webkit-transform: translateX(-"+e.settings.CSS_WIDTH+"px);} 100% {-webkit-transform: translateX(0);}}@-webkit-keyframes hidePanel{0% {-webkit-transform: translateX(0);}100% {-webkit-transform: translateX(-"+e.settings.CSS_WIDTH+"px);}}";"push"===e.settings.DISPLAY&&(i+="@-webkit-keyframes hideWrap {0% {-webkit-transform: translateX(0);}100% {-webkit-transform: translateX("+e.settings.CSS_WIDTH+"px);}}@-webkit-keyframes showWrap {0% {-webkit-transform: translateX("+e.settings.CSS_WIDTH+"px);}100% {-webkit-transform: translateX(0);}}"),e.$win=t(window),e.$doc=t(document),e.$body=t("body"),e.$element=t(e.element),e.$wrapper=t(e.settings.DOM_WRAPPER),e.panelShowAnimate="animate-showPanel",e.panelHideAnimate="animate-hidePanel",e.wrapShowAnimate="animate-showWrap",e.wrapHideAnimate="animate-hideWrap",e.beforeShowFun=e.settings.beforeShow,e.showFun=e.settings.show,e.closeFun=e.settings.close,e.resizeFun=e.settings.resize,e._verify()&&(e._bind(),e.$body.append("<style>"+i+"</style>"))},_verify:function(){var t=this;return 0!==t.$element.length&&0!==t.$wrapper.length||(console.warn("AF.panel: 缺少 Dom 元素"),!1)},_bind:function(){var t=this;t.$element.on("click.af.panel",function(e){e.preventDefault(),t.show(e)})},_createPanel:function(){var e=this,i=t('<div class="af-panel"></div>'),s=t('<div class="content"></div>'),n=t('<div class="close-btn">'+e.settings.TXT_CLOSE_VAL+"</div>");return"left"!==e.settings.DIRECTION&&"right"!==e.settings.DIRECTION||i.css({position:"absolute",display:"none",top:0,bottom:0,width:e.settings.CSS_WIDTH,"z-index":1e3}),e.settings.CSS_CLASS&&i.addClass(0===e.settings.CSS_CLASS.indexOf(".")?e.settings.CSS_CLASS.slice(1):e.settings.CSS_CLASS),i.append(s),e.settings.CLOSE_BTN&&i.append(n),i.appendTo(e.$body),e.$panel=i,e.$panelContent=s,e.$close=n,i},_setPanelEvent:function(){var t=this;"android"===AF.ua.os.name&&"ucweb"===AF.ua.browser.shell&&AF.ua.browser.version>=9&&AF.ua.browser.version<9.7?t.$panel.on("touchstart",function(t){t.preventDefault()}):t.$panel.on("touchmove",function(t){t.preventDefault()}),t.$panel.on("mousewheel",function(t){t.preventDefault()}),t.$close.on("click",function(){t.close()}),t.$win.resize(function(){t.resize()})},_beforeShow:function(t){var e=this;return!!e.$panel||(e.$panel=e._createPanel(),e._setPanelEvent(),!e.beforeShowFun||e.beforeShowFun(t))},show:function(t){var e=this;if(e.closed){if(!e._beforeShow(t))return void console.warn("AF.Panel: _beforeShow 回调函数返回 false");e.mask(),e.$panel.removeClass(e.panelHideAnimate).addClass("animated quick "+e.panelShowAnimate),e.$wrapper.removeClass(e.wrapShowAnimate).addClass("animated quick "+e.wrapHideAnimate),e.closed=!1,e.showFun&&e.showFun(e.$panel),e.$panel.show()}},mask:function(){var e=this,i=e.$body.height(),s=e.$win.height(),n=i>s?i:s;if(e.$mask)e.$mask.css({width:"100%",height:n}),e.$mask.show();else{var o=t('<div class="mask"></div>');o.css({position:"absolute",top:0,left:0,right:0,width:"100%",height:n,"z-index":999}).appendTo(e.$body),o.on("touchstart",function(t){t.preventDefault(),("ucweb"!==AF.ua.browser.shell||AF.ua.browser.version>=9.7)&&e.close()}),o.on("click",function(t){t.preventDefault(),e.close()}),o.on("mousewheel",function(t){t.preventDefault()}),e.$mask=o}},close:function(t){var e=this;e.$panel.removeClass(e.panelShowAnimate).addClass(e.panelHideAnimate),e.$wrapper.removeClass(e.wrapHideAnimate).addClass(e.wrapShowAnimate),e.$mask.hide(),e.closed=!0,e.closeFun&&!t&&e.closeFun()},resize:function(){},destroy:function(){var t=this;t.$panel.remove(),t.$panelContent.empty(),t.$panel=null}},t.fn.panel=function(s){var n,o="undefined"!=typeof Zepto,r="undefined"!=typeof jQuery;return s=s||{},s.selector=this.selector,this.length||console.warn("AF.panel: 未找到"+this.selector+"元素"),this.each(function(){r?t.data(this,i)||t.data(this,i,new e(this,s)):o&&(t(this).data(i)||(n=new e(this,s),t(this).data(i,"initialized")))}),this}}($),function(t){"use strict";var e={},i={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!0,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};t.fn.bxSlider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(s)}),this;var n={},o=this;e.el=this;var r=t(window).width(),a=t(window).height(),l=function(){n.settings=t.extend({},i,s),n.settings.slideWidth=parseInt(n.settings.slideWidth),n.children=o.children(n.settings.slideSelector),n.children.length<n.settings.minSlides&&(n.settings.minSlides=n.children.length),n.children.length<n.settings.maxSlides&&(n.settings.maxSlides=n.children.length),n.settings.randomStart&&(n.settings.startSlide=Math.floor(Math.random()*n.children.length)),n.active={index:n.settings.startSlide},n.carousel=n.settings.minSlides>1||n.settings.maxSlides>1,n.carousel&&(n.settings.preloadImages="all"),n.minThreshold=n.settings.minSlides*n.settings.slideWidth+(n.settings.minSlides-1)*n.settings.slideMargin,n.maxThreshold=n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin,n.working=!1,n.controls={},n.interval=null,n.animProp="vertical"==n.settings.mode?"top":"left",n.usingCSS=n.settings.useCSS&&"fade"!=n.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return n.cssPrefix=e[i].replace("Perspective","").toLowerCase(),n.animProp="-"+n.cssPrefix+"-transform",!0;return!1}(),"vertical"==n.settings.mode&&(n.settings.maxSlides=n.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(n.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),h()},h=function(){o.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),n.viewport=o.parent(),n.loader=t('<div class="bx-loading" />'),n.viewport.prepend(n.loader),o.css({width:"horizontal"==n.settings.mode?100*n.children.length+215+"%":"auto",position:"relative"}),n.usingCSS&&n.settings.easing?o.css("-"+n.cssPrefix+"-transition-timing-function",n.settings.easing):n.settings.easing||(n.settings.easing="swing");f();n.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),n.viewport.parent().css({maxWidth:p()}),n.settings.pager||n.viewport.parent().css({margin:"0 auto 0px"}),n.children.css({"float":"horizontal"==n.settings.mode?"left":"none",listStyle:"none",position:"relative"}),n.children.css("width",g()),"horizontal"==n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginRight",n.settings.slideMargin),"vertical"==n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginBottom",n.settings.slideMargin),"fade"==n.settings.mode&&(n.children.css({position:"absolute",zIndex:0,display:"none"}),n.children.eq(n.settings.startSlide).css({zIndex:50,display:"block"})),n.controls.el=t('<div class="bx-controls" />'),n.settings.captions&&b(),n.active.last=n.settings.startSlide==v()-1,n.settings.video&&o.fitVids();var e=n.children.eq(n.settings.startSlide);"all"==n.settings.preloadImages&&(e=n.children),n.settings.ticker?n.settings.pager=!1:(n.settings.pager&&x(),n.settings.controls&&_(),n.settings.auto&&n.settings.autoControls&&E(),(n.settings.controls||n.settings.autoControls||n.settings.pager)&&n.viewport.after(n.controls.el)),c(e,d)},c=function(e,i){var s=e.find("img, iframe").length;if(0==s)return void i();var n=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++n==s&&i()}).each(function(){this.complete&&t(this).load()})})},d=function(){if(n.settings.infiniteLoop&&"fade"!=n.settings.mode&&!n.settings.ticker){var e="vertical"==n.settings.mode?n.settings.minSlides:n.settings.maxSlides,i=n.children.slice(0,e).clone().addClass("bx-clone"),s=n.children.slice(-e).clone().addClass("bx-clone");o.append(i).prepend(s)}n.loader.remove(),S(),"vertical"==n.settings.mode&&(n.settings.adaptiveHeight=!0),n.viewport.height(u()),o.redrawSlider(),n.settings.onSliderLoad(n.active.index),n.initialized=!0,n.settings.responsive&&t(window).bind("resize",R),n.settings.auto&&n.settings.autoStart&&L(),n.settings.ticker&&M(),n.settings.pager&&k(n.settings.startSlide),n.settings.controls&&$(),n.settings.touchEnabled&&!n.settings.ticker&&H()},u=function(){var e=0,i=t();if("vertical"==n.settings.mode||n.settings.adaptiveHeight)if(n.carousel){var s=1==n.settings.moveSlides?n.active.index:n.active.index*m();i=n.children.eq(s);for(var o=1;o<=n.settings.maxSlides-1;o++)i=s+o>=n.children.length?i.add(n.children.eq(o-1)):i.add(n.children.eq(s+o));
}else i=n.children.eq(n.active.index);else i=n.children;return"vertical"==n.settings.mode?(i.each(function(i){e+=t(this).outerHeight()}),n.settings.slideMargin>0&&(e+=n.settings.slideMargin*(n.settings.minSlides-1))):e=Math.max.apply(Math,i.map(function(){return t(this).outerHeight(!1)}).get()),e},p=function(){var t="100%";return n.settings.slideWidth>0&&(t="horizontal"==n.settings.mode?n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin:n.settings.slideWidth),t},g=function(){var t=n.settings.slideWidth,e=n.viewport.width();return 0==n.settings.slideWidth||n.settings.slideWidth>e&&!n.carousel||"vertical"==n.settings.mode?t=e:n.settings.maxSlides>1&&"horizontal"==n.settings.mode&&(e>n.maxThreshold||e<n.minThreshold&&(t=(e-n.settings.slideMargin*(n.settings.minSlides-1))/n.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==n.settings.mode&&n.settings.slideWidth>0)if(n.viewport.width()<n.minThreshold)t=n.settings.minSlides;else if(n.viewport.width()>n.maxThreshold)t=n.settings.maxSlides;else{var e=n.children.first().width();t=Math.floor(n.viewport.width()/e)}else"vertical"==n.settings.mode&&(t=n.settings.minSlides);return t},v=function(){var t=0;if(n.settings.moveSlides>0)if(n.settings.infiniteLoop)t=n.children.length/m();else for(var e=0,i=0;e<n.children.length;)++t,e=i+f(),i+=n.settings.moveSlides<=f()?n.settings.moveSlides:f();else t=Math.ceil(n.children.length/f());return t},m=function(){return n.settings.moveSlides>0&&n.settings.moveSlides<=f()?n.settings.moveSlides:f()},S=function(){if(n.children.length>n.settings.maxSlides&&n.active.last&&!n.settings.infiniteLoop){if("horizontal"==n.settings.mode){var t=n.children.last(),e=t.position();T(-(e.left-(n.viewport.width()-t.width())),"reset",0)}else if("vertical"==n.settings.mode){var i=n.children.length-n.settings.minSlides,e=n.children.eq(i).position();T(-e.top,"reset",0)}}else{var e=n.children.eq(n.active.index*m()).position();n.active.index==v()-1&&(n.active.last=!0),void 0!=e&&("horizontal"==n.settings.mode?T(-e.left,"reset",0):"vertical"==n.settings.mode&&T(-e.top,"reset",0))}},T=function(t,e,i,s){if(n.usingCSS){var r="vertical"==n.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";o.css("-"+n.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(o.css(n.animProp,r),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),O()})):"reset"==e?o.css(n.animProp,r):"ticker"==e&&(o.css("-"+n.cssPrefix+"-transition-timing-function","linear"),o.css(n.animProp,r),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),T(s.resetValue,"reset",0),X()}))}else{var a={};a[n.animProp]=t,"slide"==e?o.animate(a,i,n.settings.easing,function(){O()}):"reset"==e?o.css(n.animProp,t):"ticker"==e&&o.animate(a,speed,"linear",function(){T(s.resetValue,"reset",0),X()})}},w=function(){for(var e="",i=v(),s=0;s<i;s++){var o="";n.settings.buildPager&&t.isFunction(n.settings.buildPager)?(o=n.settings.buildPager(s),n.pagerEl.addClass("bx-custom-pager")):(o=s+1,n.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+s+'" class="bx-pager-link">'+o+"</a></div>"}n.pagerEl.html(e)},x=function(){n.settings.pagerCustom?n.pagerEl=t(n.settings.pagerCustom):(n.pagerEl=t('<div class="bx-pager" />'),n.settings.pagerSelector?t(n.settings.pagerSelector).html(n.pagerEl):n.controls.el.addClass("bx-has-pager").append(n.pagerEl),w()),n.pagerEl.delegate("a","click",I)},_=function(){n.controls.next=t('<a class="bx-next" href="">'+n.settings.nextText+"</a>"),n.controls.prev=t('<a class="bx-prev" href="">'+n.settings.prevText+"</a>"),n.controls.next.bind("click",y),n.controls.prev.bind("click",P),n.settings.nextSelector&&t(n.settings.nextSelector).append(n.controls.next),n.settings.prevSelector&&t(n.settings.prevSelector).append(n.controls.prev),n.settings.nextSelector||n.settings.prevSelector||(n.controls.directionEl=t('<div class="bx-controls-direction" />'),n.controls.directionEl.append(n.controls.prev).append(n.controls.next),n.controls.el.addClass("bx-has-controls-direction").append(n.controls.directionEl))},E=function(){n.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+n.settings.startText+"</a></div>"),n.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+n.settings.stopText+"</a></div>"),n.controls.autoEl=t('<div class="bx-controls-auto" />'),n.controls.autoEl.delegate(".bx-start","click",A),n.controls.autoEl.delegate(".bx-stop","click",C),n.settings.autoControlsCombine?n.controls.autoEl.append(n.controls.start):n.controls.autoEl.append(n.controls.start).append(n.controls.stop),n.settings.autoControlsSelector?t(n.settings.autoControlsSelector).html(n.controls.autoEl):n.controls.el.addClass("bx-has-controls-auto").append(n.controls.autoEl),D(n.settings.autoStart?"stop":"start")},b=function(){n.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},y=function(t){n.settings.auto&&o.stopAuto(),o.goToNextSlide(),t.preventDefault()},P=function(t){n.settings.auto&&o.stopAuto(),o.goToPrevSlide(),t.preventDefault()},A=function(t){o.startAuto(),t.preventDefault()},C=function(t){o.stopAuto(),t.preventDefault()},I=function(e){n.settings.auto&&o.stopAuto();var i=t(e.currentTarget),s=parseInt(i.attr("data-slide-index"));s!=n.active.index&&o.goToSlide(s),e.preventDefault()},k=function(e){var i=n.children.length;return"short"==n.settings.pagerType?(n.settings.maxSlides>1&&(i=Math.ceil(n.children.length/n.settings.maxSlides)),void n.pagerEl.html(e+1+n.settings.pagerShortSeparator+i)):(n.pagerEl.find("a").removeClass("active"),void n.pagerEl.each(function(i,s){t(s).find("a").eq(e).addClass("active")}))},O=function(){if(n.settings.infiniteLoop){var t="";0==n.active.index?t=n.children.eq(0).position():n.active.index==v()-1&&n.carousel?t=n.children.eq((v()-1)*m()).position():n.active.index==n.children.length-1&&(t=n.children.eq(n.children.length-1).position()),t&&("horizontal"==n.settings.mode?T(-t.left,"reset",0):"vertical"==n.settings.mode&&T(-t.top,"reset",0))}n.working=!1,n.settings.onSlideAfter(n.children.eq(n.active.index),n.oldIndex,n.active.index)},D=function(t){n.settings.autoControlsCombine?n.controls.autoEl.html(n.controls[t]):(n.controls.autoEl.find("a").removeClass("active"),n.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},$=function(){1==v()?(n.controls.prev.addClass("disabled"),n.controls.next.addClass("disabled")):!n.settings.infiniteLoop&&n.settings.hideControlOnEnd&&(0==n.active.index?(n.controls.prev.addClass("disabled"),n.controls.next.removeClass("disabled")):n.active.index==v()-1?(n.controls.next.addClass("disabled"),n.controls.prev.removeClass("disabled")):(n.controls.prev.removeClass("disabled"),n.controls.next.removeClass("disabled")))},L=function(){if(n.settings.autoDelay>0){setTimeout(o.startAuto,n.settings.autoDelay)}else o.startAuto();n.settings.autoHover&&o.hover(function(){n.interval&&(o.stopAuto(!0),n.autoPaused=!0)},function(){n.autoPaused&&(o.startAuto(!0),n.autoPaused=null)})},M=function(){var e=0;if("next"==n.settings.autoDirection)o.append(n.children.clone().addClass("bx-clone"));else{o.prepend(n.children.clone().addClass("bx-clone"));var i=n.children.first().position();e="horizontal"==n.settings.mode?-i.left:-i.top}T(e,"reset",0),n.settings.pager=!1,n.settings.controls=!1,n.settings.autoControls=!1,n.settings.tickerHover&&!n.usingCSS&&n.viewport.hover(function(){o.stop()},function(){var e=0;n.children.each(function(i){e+="horizontal"==n.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=n.settings.speed/e,s="horizontal"==n.settings.mode?"left":"top",r=i*(e-Math.abs(parseInt(o.css(s))));X(r)}),X()},X=function(t){speed=t?t:n.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==n.settings.autoDirection?e=o.find(".bx-clone").first().position():i=n.children.first().position();var s="horizontal"==n.settings.mode?-e.left:-e.top,r="horizontal"==n.settings.mode?-i.left:-i.top,a={resetValue:r};T(s,"ticker",speed,a)},H=function(){n.touch={start:{x:0,y:0},end:{x:0,y:0}},n.viewport.bind("touchstart",N)},N=function(t){if(n.working)t.preventDefault();else{n.touch.originalPos=o.position();var e=t.originalEvent;n.touch.start.x=e.changedTouches[0].pageX,n.touch.start.y=e.changedTouches[0].pageY,n.viewport.bind("touchmove",F),n.viewport.bind("touchend",Y)}},F=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-n.touch.start.x),s=Math.abs(e.changedTouches[0].pageY-n.touch.start.y);if(3*i>s&&n.settings.preventDefaultSwipeX?t.preventDefault():3*s>i&&n.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=n.settings.mode&&n.settings.oneToOneTouch){var o=0;if("horizontal"==n.settings.mode){var r=e.changedTouches[0].pageX-n.touch.start.x;o=n.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-n.touch.start.y;o=n.touch.originalPos.top+r}T(o,"reset",0)}},Y=function(t){n.viewport.unbind("touchmove",F);var e=t.originalEvent,i=0;if(n.touch.end.x=e.changedTouches[0].pageX,n.touch.end.y=e.changedTouches[0].pageY,"fade"==n.settings.mode){var s=Math.abs(n.touch.start.x-n.touch.end.x);s>=n.settings.swipeThreshold&&(n.touch.start.x>n.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto())}else{var s=0;"horizontal"==n.settings.mode?(s=n.touch.end.x-n.touch.start.x,i=n.touch.originalPos.left):(s=n.touch.end.y-n.touch.start.y,i=n.touch.originalPos.top),!n.settings.infiniteLoop&&(0==n.active.index&&s>0||n.active.last&&s<0)?T(i,"reset",200):Math.abs(s)>=n.settings.swipeThreshold?(s<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):T(i,"reset",200)}n.viewport.unbind("touchend",Y)},R=function(e){var i=t(window).width(),s=t(window).height();r==i&&a==s||(r=i,a=s,o.redrawSlider())};return o.goToSlide=function(e,i){if(!n.working&&n.active.index!=e)if(n.working=!0,n.oldIndex=n.active.index,e<0?n.active.index=v()-1:e>=v()?n.active.index=0:n.active.index=e,n.settings.onSlideBefore(n.children.eq(n.active.index),n.oldIndex,n.active.index),"next"==i?n.settings.onSlideNext(n.children.eq(n.active.index),n.oldIndex,n.active.index):"prev"==i&&n.settings.onSlidePrev(n.children.eq(n.active.index),n.oldIndex,n.active.index),n.active.last=n.active.index>=v()-1,n.settings.pager&&k(n.active.index),n.settings.controls&&$(),"fade"==n.settings.mode)n.settings.adaptiveHeight&&n.viewport.height()!=u()&&n.viewport.animate({height:u()},n.settings.adaptiveHeightSpeed),n.children.filter(":visible").fadeOut(n.settings.speed).css({zIndex:0}),n.children.eq(n.active.index).css("zIndex",51).fadeIn(n.settings.speed,function(){t(this).css("zIndex",50),O()});else{n.settings.adaptiveHeight&&n.viewport.height()!=u()&&n.viewport.animate({height:u()},n.settings.adaptiveHeightSpeed);var s=0,r={left:0,top:0};if(!n.settings.infiniteLoop&&n.carousel&&n.active.last)if("horizontal"==n.settings.mode){var a=n.children.eq(n.children.length-1);r=a.position(),s=n.viewport.width()-a.outerWidth()}else{var l=n.children.length-n.settings.minSlides;r=n.children.eq(l).position()}else if(n.carousel&&n.active.last&&"prev"==i){var h=1==n.settings.moveSlides?n.settings.maxSlides-m():(v()-1)*m()-(n.children.length-n.settings.maxSlides),a=o.children(".bx-clone").eq(h);r=a.position()}else if("next"==i&&0==n.active.index)r=o.find("> .bx-clone").eq(n.settings.maxSlides).position(),n.active.last=!1;else if(e>=0){var c=e*m();r=n.children.eq(c).position()}if("undefined"!=typeof r){var d="horizontal"==n.settings.mode?-(r.left-s):-r.top;T(d,"slide",n.settings.speed)}}},o.goToNextSlide=function(){if(n.settings.infiniteLoop||!n.active.last){var t=parseInt(n.active.index)+1;o.goToSlide(t,"next")}},o.goToPrevSlide=function(){if(n.settings.infiniteLoop||0!=n.active.index){var t=parseInt(n.active.index)-1;o.goToSlide(t,"prev")}},o.startAuto=function(t){n.interval||(n.interval=setInterval(function(){"next"==n.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},n.settings.pause),n.settings.autoControls&&1!=t&&D("stop"))},o.stopAuto=function(t){n.interval&&(clearInterval(n.interval),n.interval=null,n.settings.autoControls&&1!=t&&D("start"))},o.getCurrentSlide=function(){return n.active.index},o.getSlideCount=function(){return n.children.length},o.redrawSlider=function(){n.children.add(o.find(".bx-clone")).outerWidth(g()),n.viewport.css("height",u()),n.settings.ticker||S(),n.active.last&&(n.active.index=v()-1),n.active.index>=v()&&(n.active.last=!0),n.settings.pager&&!n.settings.pagerCustom&&(w(),k(n.active.index))},o.destroySlider=function(){n.initialized&&(n.initialized=!1,t(".bx-clone",this).remove(),n.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),n.controls.el&&n.controls.el.remove(),n.controls.next&&n.controls.next.remove(),n.controls.prev&&n.controls.prev.remove(),n.pagerEl&&n.settings.controls&&n.pagerEl.remove(),t(".bx-caption",this).remove(),n.controls.autoEl&&n.controls.autoEl.remove(),clearInterval(n.interval),n.settings.responsive&&t(window).unbind("resize",R))},o.reloadSlider=function(t){void 0!=t&&(s=t),o.destroySlider(),l()},l(),this}}(jQuery),function(t){"use strict";function e(e,i){this.element=e,this.settings=t.extend({},s,i),this._defaults=s,this.init()}var i="af-sticky",s={ARRY_FIXED_POSITION:[0,0,"auto",0],NUM_ZINDEX:101,PLACEHOLD:!1};e.prototype={construtor:"Sticky",scrollTimer:0,scrollDelay:150,init:function(){var e=this,s=t("[data-"+i+"]").length;e.$element=t(e.element),e.fixedInFun=e.settings.fixedIn,e.fixedOutFun=e.settings.fixedOut,e.$element.each(function(n){var o={id:i+(n+s),self:this,$self:t(this),sticky:!1};e.settings.NUM_TRIGGER_POSITION&&AF.isNumber(e.settings.NUM_TRIGGER_POSITION)?o.triggerPosTop=e.settings.NUM_TRIGGER_POSITION:(e.settings.PLACEHOLD&&e._setPlaceholder(o),o.self.getBoundingClientRect()?o.triggerPosTop=o.self.getBoundingClientRect().top+window.scrollY:console.warn("Not Support getBoundingClientRect"),0===o.self.triggerPosTop&&e._setFixed(o)),e._trigger(o)})},_setPlaceholder:function(e){var i=e.$self,s=i.height()+parseInt(i.css("padding-top"),10)+parseInt(i.css("padding-bottom"),10)+parseInt(i.css("margin-top"),10)+parseInt(i.css("margin-bottom"),10),n=t('<div class="af-sticky-placeholder" id="'+e.id+'"></div>').css({display:"none",width:i.width(),height:s,background:i.css("background")});n.insertAfter(e.$self)},_trigger:function(e){function i(){var t=window.scrollY;t>=e.triggerPosTop&&!e.sticky?n._setFixed(e):t<e.triggerPosTop&&e.sticky&&n._removeFixed(e),window.requestAnimationFrame(i)}function s(){function i(){var t=window.scrollY;t>=e.triggerPosTop&&!e.$self.hasClass("af-sticky")?n._setFixed(e):t<e.triggerPosTop&&e.$self.hasClass("af-sticky")&&n._removeFixed(e)}var s="android-ios";s.indexOf(AF.ua.os.name)!==-1?t(window).on("touchstart",function(){setTimeout(function(){i()},150)}):t(window).on("scroll",function(){n.scrollTimer||(n.scrollTimer=setTimeout(function(){i(),n.scrollTimer=0},n.scrollDelay))})}var n=this;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,window.requestAnimationFrame?window.requestAnimationFrame(i):s()},_setFixed:function(e){var i=this,s=i.settings.ARRY_FIXED_POSITION,n=t("#"+e.id);if(e.$self.css({position:"fixed",top:s[0],right:s[1],bottom:s[2],left:s[3],"z-index":i.settings.NUM_ZINDEX}),e.sticky=!0,i.settings.PLACEHOLD&&n.length&&n.show(),i.settings.ANIMATE){var o=0===i.settings.ANIMATE.indexOf(".")?i.settings.ANIMATE.slice(1):i.settings.ANIMATE;e.$self.addClass("animated "+o)}i.fixedInFun&&i.fixedInFun()},_removeFixed:function(e){var i=this,s=t("#"+e.id);e.$self.attr("style",""),e.sticky=!1,i.settings.PLACEHOLD&&s.length&&s.hide(),i.fixedOutFun&&i.fixedOutFun()}},t.fn.sticky=function(s){var n,o="undefined"!=typeof Zepto,r="undefined"!=typeof jQuery;return s=s||{},s.selector=this.selector,this.each(function(){r?t.data(this,i)||t.data(this,i,new e(this,s)):o&&(t(this).data(i)||(n=new e(this,s),t(this).data(i,"initialized")))}),this}}($),function(t){"use strict";function e(e,i){this.element=e,this.settings=t.extend({},s,i),this._defaults=s,this.init()}var i="af-suggest",s={NUM_TIMER_DELAY:300,NUM_XHR_TIMEER:5e3,NUM_SUCCESS_CODE:200,suggestion:!0};e.prototype={construtor:"Suggest",lastKeyword:"",lastSendKeyword:"",canSendRequest:!0,init:function(){var e=this,i="",s="";e.settings.CSS_CLEAR_BTN&&(i=e.settings.CSS_CLEAR_BTN.indexOf(".")!==-1?e.settings.CSS_CLEAR_BTN.slice(1):e.settings.CSS_CLEAR_BTN),e.settings.CSS_SUGGEST_RESULT&&(s=e.settings.CSS_SUGGEST_RESULT.indexOf(".")!==-1?e.settings.CSS_SUGGEST_RESULT.slice(1):e.settings.CSS_SUGGEST_RESULT),e.$element=t(e.element),e.$input=e.$element.find("input[type=text]"),e.$clearBtn=t('<div class="af-suggest-clear-btn"></div>').addClass(i),e.$suggestPanel=t('<div class="af-suggest-result"></div>').addClass(s),e.$input.after(e.$clearBtn),e.$element.append(e.$suggestPanel),e.beforeStartFun=e.settings.beforeStart,e.startFun=e.settings.start,e.clearFun=e.settings.clear,e.showFun=e.settings.show,e._verify()&&e._bind()},_verify:function(){return!0},_bind:function(t){var e=this;e.$input.on("focus",function(){e.start()}),e.$input.on("blur",function(){e.stop()}),e.$clearBtn.on("click",function(){e.clear()}),e.beforeStartFun&&e.beforeStartFun()},_filter:function(t){return t.replace(/\s+/g,"").replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"")},_initSuggest:function(){var t=this;t.$suggestPanel.empty()},_requestData:function(e){var i=this,s=i.settings.API;i.xhr&&i.xhr.abort(),i.xhr=t.ajax({type:"POST",url:s,dataType:"json",data:{keyword:e},timeout:i.settings.NUM_XHR_TIMEER,success:function(t){i.showSuggest(t),i.lastSendKeyword=e},error:function(){i.canSendRequest=!1,setTimeout(function(){i.canSendRequest=!0},500)}})},_compare:function(t){var e=this,i=t.length,s=e.lastSendKeyword.length;return e.lastKeyword!==t&&(s>0&&i<s&&(e.canSendRequest=!0),!!e.canSendRequest&&e.lastSendKeyword!==t)},start:function(){var t=this;t.inputListener=setInterval(function(){var e=t.$input.val(),i=t._filter(e);i.length>0?("none"===t.$clearBtn.css("display")&&t.$clearBtn.show(),t._compare(i)&&(t._requestData(i),t.startFun&&t.startFun()),t.lastKeyword=i):(t.lastKeyword=void 0,t.clear())},t.settings.NUM_TIMER_DELAY)},stop:function(){var t=this;clearInterval(t.inputListener)},showSuggest:function(t){var e=this,i="object"==typeof t?t:JSON.parse(t);return i.code!==e.settings.NUM_SUCCESS_CODE?void(e.canSendRequest=!1):(e.canSendRequest=!0,e._initSuggest(),void(e.showFun&&e.showFun(i)))},hideSuggest:function(){var t=this;t.$suggestPanel.hide()},clear:function(){var t=this;t.$input.val(""),t.hideSuggest(),t.$clearBtn.hide(),t.canSendRequest=!0,t.lastSendKeyword="",t.clearFun&&t.clearFun()}},t.fn.suggest=function(s){var n,o="undefined"!=typeof Zepto,r="undefined"!=typeof jQuery;return s=s||{},s.selector=this.selector,this.each(function(){r?t.data(this,i)||t.data(this,i,new e(this,s)):o&&(t(this).data(i)||(n=new e(this,s),t(this).data(i,"initialized")))}),this}}($),function(t){"use strict";function e(e,i){this.element=e,this.settings=t.extend({},s,i),this._defaults=s,this.init()}var i="af-tab",s={EVE_EVENT_TYPE:"click",CSS_HIGHLIGHT:".active",CLEAR_PANEL:!1,LOCAL_DATA:!1,NUM_ACTIVE:0,XHR_TIMEOUT:5e3,NUM_EXPIRES:15,TXT_LOADING_TIP:"正在加载请稍后...",XHR_METHOD:"POST"};e.prototype={construtor:"Tab",needLoadContent:!1,init:function(){var e=this;e.settings.CSS_LOADING_TIP&&(e.CSS_LOADING_TIP=0===e.settings.CSS_LOADING_TIP.indexOf(".")?e.settings.CSS_LOADING_TIP.slice(1):e.settings.CSS_LOADING_TIP),e.CSS_HIGHLIGHT=0===e.settings.CSS_HIGHLIGHT.indexOf(".")?e.settings.CSS_HIGHLIGHT.slice(1):e.settings.CSS_HIGHLIGHT,e.$element=t(e.element),e.tabsLen=e.$element.length,e.triggerFun=e.settings.trigger,e.showFun=e.settings.show,e.beforeLoadFun=e.settings.beforeLoad,e.loadFun=e.settings.loaded,e.$element.each(function(){var i=t(this),s=i.find(e.settings.DOM_TABS),n=i.find(e.settings.DOM_PANELS);e._verify(s,n)&&e._init(i,s,n)})},_verify:function(t,e){return t.length?!!e.length||(console.warn("AF.tab: 参数 DOM_PANELS 错误，"+this.settings.selector+"下未找到"+this.settings.DOM_PANELS+"元素"),!1):(console.warn("AF.tab: 参数 DOM_TABS 错误，"+this.settings.selector+"下未找到"+this.settings.DOM_TABS+"元素"),!1)},_init:function(e,i,s){var n=this,o=0;i.each(function(){t(this).attr("data-tabIndex",o),o++}),n.settings.API&&(AF.isString(n.settings.API)||AF.isArray(n.settings.API))&&(n.$loadingTip=t('<div class="af-tabs-loading-tip"></div>'),n.CSS_LOADING_TIP?n.$loadingTip.addClass(n.CSS_LOADING_TIP):n.$loadingTip.css({height:60,"text-align":"center","line-height":"60px"}),n.$loadingTip.text(n.settings.TXT_LOADING_TIP),n.needLoadContent=!0),void 0!==n.settings.NUM_ACTIVE&&n.show(i,s,n.settings.NUM_ACTIVE),i.on("click.af.tab",function(o){o.preventDefault(),n._trigger(e,i,s,t(this))})},_trigger:function(t,e,i,s){var n=this,o=parseInt(s.attr("data-tabIndex"),10),r=s.hasClass(n.CSS_HIGHLIGHT);r||(n.show(e,i,o),n.triggerFun&&n.triggerFun(e,i,o))},_cleanPanel:function(t){t.empty()},show:function(t,e,i){var s=this,n=t.eq(i),o=e.eq(i);t.removeClass(s.CSS_HIGHLIGHT),e.removeClass(s.CSS_HIGHLIGHT),n.addClass(s.CSS_HIGHLIGHT),o.addClass(s.CSS_HIGHLIGHT),s.showFun&&s.showFun(t,e,i),s.settings.API&&s._load(o,i)},_load:function(e,i){var s=this,n=s.settings.API,o=e.find(".af-tabs-loading-tip"),r=o.length>0,a=e.hasClass("hasLoaded");if(!a&&(!s.beforeLoadFun||s.beforeLoadFun(e,i))){if(s.settings.CLEAR_PANEL&&s._cleanPanel(e),s.settings.LOCAL_DATA){var l=AF.store.localStorage.get(n,s.settings.NUM_EXPIRES);if(l=AF.isString(l)?t.parseJSON(l):l)return e.addClass("hasLoaded"),void(s.loadFun&&s.loadFun(JSON.parse(l),e,i))}AF.isArray(s.settings.API)&&(n=s.settings.API[i]),n&&0!==n.length&&(s.xhr&&s.xhr.abort(),r?o.show():(e.append(s.$loadingTip),o=e.find(".af-tabs-loading-tip"),o.show()),s.xhr=t.ajax({type:s.settings.XHR_METHOD,url:n,dataType:"json",timeout:s.settings.XHR_TIMEOUT,success:function(t){o.hide(),e.addClass("hasLoaded"),s.settings.LOCAL_DATA&&AF.store.localStorage.set(n,t),s.loadFun&&s.loadFun(t,e,i)},error:function(){s._showReloadTips(e,i)}}))}},_showReloadTips:function(t,e){var i=this,s=t.find(".af-tabs-loading-tip");s.show().empty();var n='<div class="reload"><p>抱歉，加载失败，请重试</p><div class="af-btn f-grey J_reload">重新加载</div></div>';s.append(n),t.find(".J_reload").off("click").on("click",function(){i._load(t,e)})}},t.fn.tab=function(s){var n,o="undefined"!=typeof Zepto,r="undefined"!=typeof jQuery;return s=s||{},s.selector=this.selector,this.length||console.warn("AF.tab: 未找到"+this.selector+"元素"),this.each(function(){r?t.data(this,i)||t.data(this,i,new e(this,s)):o&&(t(this).data(i)||(n=new e(this,s),t(this).data(i,"initialized")))}),this}}($),$(function(){"use strict"});
/* site v1.1.0 2016-09-30 16:26:26 */
//# sourceMappingURL=../maps/site.min.js.map
